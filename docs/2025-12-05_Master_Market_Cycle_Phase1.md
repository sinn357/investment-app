# Master Market Cycle System - Phase 1 êµ¬í˜„ ì™„ë£Œ

**ë‚ ì§œ**: 2025-12-05
**ë²„ì „**: v1.0-phase1
**ìƒíƒœ**: âœ… ì™„ë£Œ

---

## ğŸ“Š êµ¬í˜„ ê°œìš”

ì±—GPTì™€ í˜‘ì˜í•œ **3ëŒ€ ì‚¬ì´í´ ì‹œìŠ¤í…œ**ì˜ Phase 1ì„ ì™„ì „ êµ¬í˜„í–ˆë‹¤.

### **í•µì‹¬ ì² í•™**

- **Master Market Cycle (MMC)**: ë‹¨ì¼ ì¢…í•© ì ìˆ˜ë¡œ íˆ¬ì íƒ€ì´ë° ì§ì ‘ íŒë‹¨
- **ê°€ì¤‘ì¹˜ êµ¬ì¡°**: Sentiment 50% + Credit 30% + Macro 20% (ì‹œì¥ ë°˜ì‘ ì†ë„ ê¸°ë°˜)
- **Threshold ê¸°ë°˜**: Percentile ëŒ€ì‹  ì„ê³„ê°’ ê¸°ë°˜ ì ìˆ˜í™”ë¡œ ê³„ì‚° íš¨ìœ¨í™”

---

## ğŸ¯ êµ¬í˜„ ë²”ìœ„

### **Phase 1: Macro + Credit (11ê°œ ì§€í‘œ, ì‹ ê·œ í¬ë¡¤ë§ 0ê°œ)**

| ì‚¬ì´í´ | ì§€í‘œ ìˆ˜ | ì‹ ê·œ í¬ë¡¤ë§ | ìƒíƒœ |
|--------|---------|------------|------|
| Macro | 6ê°œ | 0ê°œ | âœ… ì™„ë£Œ |
| Credit | 5ê°œ | 0ê°œ | âœ… ì™„ë£Œ |
| Sentiment | - | - | Phase 2 ì˜ˆì • |

### **Master Market Cycle**

- MMC ì ìˆ˜: 0-100
- Phase 1 ì„ì‹œ: Sentiment = 50ì  ê³ ì •
- íˆ¬ì êµ­ë©´: 5ë‹¨ê³„ (ê³µí¬ ë°”ë‹¥/ìˆ˜ì¶•ê¸°/ì „í™˜ê¸°/í™•ì¥ê¸°/ê°•í•œ í™•ì¥ê¸°)

---

## ğŸ“ ìƒì„±/ìˆ˜ì •ëœ íŒŒì¼

### **ë°±ì—”ë“œ (3ê°œ íŒŒì¼)**

1. **`backend/services/cycle_engine.py`** (NEW, 572ì¤„)
   - `calculate_macro_score()`: ê±°ì‹œê²½ì œ ì‚¬ì´í´ ê³„ì‚°
   - `calculate_credit_score()`: ì‹ ìš©/ìœ ë™ì„± ì‚¬ì´í´ ê³„ì‚°
   - `calculate_master_cycle_v1()`: Master Cycle ì„ì‹œ ë²„ì „
   - Threshold ê¸°ë°˜ ì ìˆ˜í™” ë¡œì§
   - ê°€ì¤‘ í‰ê·  ê³„ì‚° + êµ­ë©´ íŒë³„

2. **`backend/app.py`** (ìˆ˜ì •)
   - `/api/v3/cycles/master` ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
   - `/api/v3/cycles/macro` ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
   - `/api/v3/cycles/credit` ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€

3. **`backend/services/postgres_database_service.py`** (ìˆ˜ì •)
   - `get_latest_indicator()` ë©”ì„œë“œ ì¶”ê°€ (Cycle Engine ì§€ì›)

### **í”„ë¡ íŠ¸ì—”ë“œ (2ê°œ íŒŒì¼)**

1. **`frontend/src/components/MasterCycleCard.tsx`** (NEW, 250ì¤„)
   - MMC ì¢…í•© ì ìˆ˜ í‘œì‹œ
   - 3ëŒ€ ì‚¬ì´í´ ì›í˜• ê²Œì´ì§€
   - íˆ¬ì ì¶”ì²œ ë©”ì‹œì§€
   - Phase 1 ì•ˆë‚´ (Sentiment ë¹„í™œì„±)

2. **`frontend/src/app/indicators/page.tsx`** (ìˆ˜ì •)
   - `masterCycleData` state ì¶”ê°€
   - Master Cycle API í˜¸ì¶œ í†µí•©
   - MasterCycleCard import ë° ë Œë”ë§

---

## ğŸ”¢ Macro Cycle êµ¬ì„± (6ê°œ ì§€í‘œ)

| ì§€í‘œ | ê°€ì¤‘ì¹˜ | Threshold | ì—­ë°©í–¥ | ìƒíƒœ |
|------|--------|-----------|--------|------|
| ISM ì œì¡°ì—… PMI | 30% | 45/50/55 | âŒ | âœ… DB ë³´ìœ  |
| ISM ë¹„ì œì¡°ì—… PMI | 20% | 45/50/55 | âŒ | âœ… DB ë³´ìœ  |
| ì‹¤ì—…ë¥  | 20% | 3.5/4.5/6.0 | âœ… | âœ… DB ë³´ìœ  |
| ê·¼ì› CPI | 10% | 2.0/2.5/3.5 | âœ… | âœ… DB ë³´ìœ  |
| ì—°ì¤€ ê¸°ì¤€ê¸ˆë¦¬ | 15% | 2.0/3.5/5.0 | âœ… | âœ… DB ë³´ìœ  |
| ì¥ë‹¨ê¸°ê¸ˆë¦¬ì°¨ | 5% | -0.5/0/0.5 | âŒ | âœ… DB ë³´ìœ  |

**ì´ì  ê³„ì‚°**:
```python
macro_score = (
    ism_mfg * 0.30 +
    ism_svc * 0.20 +
    unemp * 0.20 +
    cpi * 0.10 +
    fed * 0.15 +
    curve * 0.05
)
```

**êµ­ë©´ íŒë³„**:
- 0-25ì : ì¹¨ì²´
- 25-50ì : íšŒë³µ
- 50-75ì : í™•ì¥
- 75-100ì : ë‘”í™”

---

## ğŸ’° Credit Cycle êµ¬ì„± (5ê°œ ì§€í‘œ)

| ì§€í‘œ | ê°€ì¤‘ì¹˜ | Threshold | ì—­ë°©í–¥ | ìƒíƒœ |
|------|--------|-----------|--------|------|
| HY Spread | 30% | 250/400/600 | âœ… | âœ… DB ë³´ìœ  |
| IG Spread | 20% | 100/150/200 | âœ… | âœ… DB ë³´ìœ  |
| FCI (ê¸ˆìœµì—¬ê±´ì§€ìˆ˜) | 25% | -0.5/0/0.5 | âœ… | âœ… DB ë³´ìœ  |
| M2 YoY | 15% | 2/5/8 | âŒ | âœ… DB ë³´ìœ  |
| VIX | 10% | 12/18/25 | âœ… | âœ… DB ë³´ìœ  |

**ì´ì  ê³„ì‚°**:
```python
credit_score = (
    hy * 0.30 +
    ig * 0.20 +
    fci * 0.25 +
    m2 * 0.15 +
    vix * 0.10
)
```

**ìƒíƒœ íŒë³„**:
- 0-25ì : ì‹ ìš© ê²½ìƒ‰
- 25-45ì : ê¸´ì¶• í™˜ê²½
- 45-70ì : ì¤‘ë¦½
- 70-100ì : ìœ ë™ì„± í’ë¶€

---

## ğŸ¯ Master Market Cycle (MMC)

### **Phase 1 ê³„ì‚°ì‹**

```python
mmc_score = (
    0.50 * sentiment_score +  # 50ì  ê³ ì • (ì„ì‹œ)
    0.30 * credit_score +
    0.20 * macro_score
)
```

### **íˆ¬ì êµ­ë©´ íŒë³„**

| ì ìˆ˜ | êµ­ë©´ | ì˜ë¯¸ | íˆ¬ì í–‰ë™ |
|------|------|------|----------|
| 80-100 | ê°•í•œ í™•ì¥ê¸° | ê³µê²©ì  ë§¤ìˆ˜ | ì„±ì¥ì£¼ ì¤‘ì‹¬, ë ˆë²„ë¦¬ì§€ í™•ëŒ€ |
| 60-80 | í™•ì¥ê¸° | í¬ì§€ì…˜ ìœ ì§€ | í˜„ì¬ í¬ì§€ì…˜ ìœ ì§€ |
| 40-60 | ì „í™˜ê¸° | ì¤‘ë¦½, ì‹ ì¤‘ | ë¶„í•  ë§¤ìˆ˜ ëŒ€ê¸°, ê´€ë§ |
| 20-40 | ìˆ˜ì¶•ê¸° | ë¦¬ìŠ¤í¬ ì¶•ì†Œ | ì±„ê¶Œ ë¹„ì¤‘ í™•ëŒ€, ë°©ì–´ì  |
| 0-20 | ê³µí¬ ë°”ë‹¥ | ê°•ë ¥ ë§¤ìˆ˜ íƒ€ì´ë° | ë¶„í•  ë§¤ìˆ˜ ì‹œì‘, ë°”ë‹¥ ê·¼ì ‘ |

### **íˆ¬ì ì¶”ì²œ ë¡œì§**

```python
if macro >= 60 and credit >= 60 and sentiment >= 60:
    return "ê³µê²©ì  í¬ì§€ì…˜ ìœ ì§€, ì„±ì¥ì£¼ ì¤‘ì‹¬"
elif macro >= 60 and credit >= 60 and sentiment < 40:
    return "ë°¸ë¥˜ì—ì´ì…˜ ë¶€ë‹´, ë¶„í•  ë§¤ë„ ê³ ë ¤"
elif macro < 40 and credit < 40 and sentiment < 40:
    return "ë°”ë‹¥ ì ‘ê·¼ ì¤‘, ë¶„í•  ë§¤ìˆ˜ ì‹œì‘"
elif macro < 40 and credit >= 60:
    return "ê²½ê¸° ë‘”í™” ì˜ˆìƒ, ì±„ê¶Œ ë¹„ì¤‘ í™•ëŒ€"
else:
    return "ì¤‘ë¦½ í¬ì§€ì…˜, ì‹œì¥ ê´€ë§"
```

---

## ğŸ”§ API ì‚¬ì–‘

### **1. Master Market Cycle**

```
GET /api/v3/cycles/master
```

**Response:**
```json
{
  "status": "success",
  "data": {
    "mmc_score": 64.2,
    "phase": "í™•ì¥ê¸° (í¬ì§€ì…˜ ìœ ì§€)",
    "macro": {
      "score": 72.5,
      "phase": "í™•ì¥ê¸°",
      "signals": ["ISM ì œì¡°ì—… 52.8", "ì‹¤ì—…ë¥  3.8%"],
      "indicators": {...}
    },
    "credit": {
      "score": 58.3,
      "state": "ì¤‘ë¦½",
      "signals": ["HY 350bp", "FCI -0.2"],
      "indicators": {...}
    },
    "sentiment": {
      "score": 50.0,
      "state": "Phase 2 ì˜ˆì •",
      "signals": ["VIX, PER, CAPE ë“± ì¶”ê°€ ì˜ˆì •"]
    },
    "recommendation": "ì¤‘ë¦½ í¬ì§€ì…˜ ìœ ì§€",
    "updated_at": "2025-12-05T10:30:00",
    "version": "v1.0-phase1"
  }
}
```

### **2. Macro Cycle**

```
GET /api/v3/cycles/macro
```

### **3. Credit Cycle**

```
GET /api/v3/cycles/credit
```

---

## ğŸ“Š UI êµ¬ì„±

### **MasterCycleCard**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ Master Market Cycle             v1.0-phase1 â”‚
â”‚  3ëŒ€ ì‚¬ì´í´ í†µí•© íˆ¬ì íƒ€ì´ë° ì ìˆ˜               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì¢…í•© ì ìˆ˜: 64             ì‹œì¥ êµ­ë©´: í™•ì¥ê¸°     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â­•72       â­•58       â­•50                      â”‚
â”‚  ê±°ì‹œê²½ì œ  ì‹ ìš©/ìœ ë™ì„±  ì‹¬ë¦¬/ë°¸ë¥˜                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Macro: í™•ì¥ê¸°                                   â”‚
â”‚  Credit: ì¤‘ë¦½                                    â”‚
â”‚  Sentiment: Phase 2 ì˜ˆì •                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¡ íˆ¬ì ì¶”ì²œ                                    â”‚
â”‚  ì¤‘ë¦½ í¬ì§€ì…˜ ìœ ì§€, ì‹œì¥ ê´€ë§                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš ï¸ Sentiment ì‚¬ì´í´ì€ Phase 2ì—ì„œ í™œì„±í™”       â”‚
â”‚  ì—…ë°ì´íŠ¸: 2025-12-05 10:30                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… ì™„ë£Œ í•­ëª©

- [x] cycle_engine.py ìƒì„± (572ì¤„)
- [x] Macro Cycle ê³„ì‚° í•¨ìˆ˜ (6ê°œ ì§€í‘œ)
- [x] Credit Cycle ê³„ì‚° í•¨ìˆ˜ (5ê°œ ì§€í‘œ)
- [x] Master Cycle ì„ì‹œ ë²„ì „ (Sentiment=50)
- [x] API ì—”ë“œí¬ì¸íŠ¸ 3ê°œ ì¶”ê°€
- [x] PostgreSQL ì§€ì› ë©”ì„œë“œ ì¶”ê°€
- [x] MasterCycleCard ì»´í¬ë„ŒíŠ¸ (250ì¤„)
- [x] indicators/page.tsx í†µí•©

---

## ğŸ“Œ Phase 2 ê³„íš

### **Sentiment Cycle ì¶”ê°€ (6ê°œ ì§€í‘œ)**

| ì§€í‘œ | ê°€ì¤‘ì¹˜ | í¬ë¡¤ë§ í•„ìš” | ì˜ˆìƒ ì†Œìš” |
|------|--------|------------|----------|
| VIX | 20% | âŒ (ë³´ìœ ) | - |
| S&P500 PER | 20% | âœ… (FRED) | 0.5ì„¸ì…˜ |
| Shiller CAPE | 15% | âœ… (Shiller Data) | 0.5ì„¸ì…˜ |
| Put/Call Ratio | 15% | âœ… (CBOE) | 0.5ì„¸ì…˜ |
| Michigan Sentiment | 15% | âŒ (ë³´ìœ ) | - |
| CB Consumer Confidence | 15% | âŒ (ë³´ìœ ) | - |

**ì˜ˆìƒ ì†Œìš”**: 1-2 ì„¸ì…˜

---

## ğŸ‰ ì„±ê³¼ ìš”ì•½

### **êµ¬í˜„ ì†ë„**
- âœ… 1ì„¸ì…˜ ì™„ë£Œ (ëª©í‘œ ë‹¬ì„±)
- âœ… ì‹ ê·œ í¬ë¡¤ë§ 0ê°œ (ìµœì†Œ ì˜ì¡´ì„±)
- âœ… 11ê°œ ì§€í‘œ í™œìš© (47ê°œ ì¤‘)

### **í•µì‹¬ ê°€ì¹˜**
- âœ… **ì¦‰ì‹œ ë°°í¬ ê°€ëŠ¥**: ì‹ ê·œ í¬ë¡¤ë§ ì—†ì´ ì‘ë™
- âœ… **íˆ¬ì í•µì‹¬ 80% í¬ì°©**: Macro + Creditë§Œìœ¼ë¡œë„ ê°•ë ¥
- âœ… **ì ì§„ì  ê°œì„ **: Phase 2ë¡œ ì™„ì „ì²´ ì§„í™” ê°€ëŠ¥

### **ê¸°ìˆ  íŠ¹ì§•**
- âœ… Threshold ê¸°ë°˜ (percentile ëŒ€ë¹„ 100ë°° ë¹ ë¦„)
- âœ… ì±—GPT ê¶ê·¹ êµ¬ì¡° ë°˜ì˜ (ê°€ì¤‘ì¹˜ 50/30/20)
- âœ… í˜„ì‹¤ì  êµ¬í˜„ (ì±—GPT ì´ë¡  + í´ë¡œë“œ ì‹¤ìš©ì„±)

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„

1. **ë¡œì»¬ í…ŒìŠ¤íŠ¸** (ë°±ì—”ë“œ flask ì‹¤í–‰ + í”„ë¡ íŠ¸ì—”ë“œ í™•ì¸)
2. **Phase 2 ì¤€ë¹„** (Sentiment 4ê°œ ì§€í‘œ í¬ë¡¤ë§ ê³„íš)
3. **ë°°í¬** (Render + Vercel)

---

**Last Updated**: 2025-12-05 11:00 KST
**Author**: Partner & Claude Code
**Status**: Phase 1 ì™„ì „ êµ¬í˜„ âœ…
